sql structrued query language use tables to restore message